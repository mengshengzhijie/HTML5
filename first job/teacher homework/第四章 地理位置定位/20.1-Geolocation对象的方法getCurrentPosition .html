<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script>
        //1.先判断浏览器是否支持geolocation
        if (navigator.geolocation) {
            //支持        callback
            navigator.geolocation.getCurrentPosition(successCB, errorCB);

            //getCurrentPosition(参数1,参数2,参数3)
            /*
                参数1   获取地理位置信息成功时，执行的回调函数
                       带有一个position参数，它是一个Geoposition对象。该对象有以下两个属性：
                       timestamp属性，获取到地理坐标的时间戳信息，值为从1970年1月1日至今的毫秒数 
                       coords属性，coords属性是一个Coordinates类型对象
                参数2   获取地理位置信息失败时，执行的回调函数
                参数3   可选的，位置信息的相关设置
            */
        } else {
            alert('浏览器不支持')
        }

        //实现函数
        function successCB(position) {
            //输出当前位置的经纬度
            //纬度
            console.log('纬度：' + position.coords.latitude);
            //经度
            console.log('经度：' + position.coords.longitude)
        }

        //失败的回调函数
        function errorCB(error) {
            // alert('失败')
            switch (error.code) {
                case error.PERMISSION_DENIED:
                     alert( "用户拒绝对获取地理位置的请求。")
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert ( "位置信息是不可用的。")
                    break;
                case error.TIMEOUT:
                     alert("请求用户地理位置超时。")
                    break;
                case error.UNKNOWN_ERROR:
                     alert("未知错误。")
                    break;
            }

        }
    </script>
</body>

</html>